{"ast":null,"code":"var _jsxFileName = \"/home/lightmare/Documents/dev/web/tnp_plan/client/src/components/NewMonthForm/NewMonthForm.tsx\";\nimport React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nexport const NewMonthForm = props => {\n  const {\n    confirmed,\n    canceled,\n    product\n  } = props;\n  const [plan, setPlan] = useState(-1);\n  const [days, setDays] = useState(-1);\n\n  const onCanceled = () => {\n    canceled();\n  };\n\n  const onConfirmed = () => {\n    confirmed({\n      product,\n      plan,\n      days,\n      ppr: 0,\n      workDays: []\n    });\n  };\n\n  const onPlanChange = e => {\n    setPlan(Number(e === null || e === void 0 ? void 0 : e.target.value) || 0);\n  };\n\n  const onDaysChange = e => {\n    setDays(Number(e === null || e === void 0 ? void 0 : e.target.value) || 0);\n  };\n\n  const isValid = () => {\n    return days >= 0 && plan >= 0;\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DialogTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }\n  }, \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u043C\\u0435\\u0441\\u044F\\u0446\"), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    ref: planField,\n    autoFocus: true,\n    margin: \"dense\",\n    label: \"\\u041F\\u043B\\u0430\\u043D\",\n    type: \"number\",\n    required: true,\n    fullWidth: true,\n    onChange: onPlanChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    ref: daysField,\n    margin: \"dense\",\n    label: \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u0441\\u043C\\u0435\\u043D\",\n    type: \"number\",\n    required: true,\n    fullWidth: true,\n    onChange: onDaysChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 12\n    }\n  })), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: onCanceled,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 12\n    }\n  }, \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: onConfirmed,\n    color: \"primary\",\n    disabled: isValid(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 12\n    }\n  }, \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\")));\n};","map":{"version":3,"sources":["/home/lightmare/Documents/dev/web/tnp_plan/client/src/components/NewMonthForm/NewMonthForm.tsx"],"names":["React","useState","Button","TextField","DialogActions","DialogContent","DialogTitle","NewMonthForm","props","confirmed","canceled","product","plan","setPlan","days","setDays","onCanceled","onConfirmed","ppr","workDays","onPlanChange","e","Number","target","value","onDaysChange","isValid","planField","daysField"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAwC,OAAxC;AAIA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AAEA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AAEA,OAAOC,WAAP,MAAwB,+BAAxB;AAQA,OAAO,MAAMC,YAAY,GAAIC,KAAD,IAAkB;AAC7C,QAAM;AAACC,IAAAA,SAAD;AAAYC,IAAAA,QAAZ;AAAsBC,IAAAA;AAAtB,MAAiCH,KAAvC;AACA,QAAM,CAACI,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,CAAC,CAAC,CAAF,CAAhC;AACA,QAAM,CAACa,IAAD,EAAOC,OAAP,IAAkBd,QAAQ,CAAC,CAAC,CAAF,CAAhC;;AAEA,QAAMe,UAAU,GAAG,MAAM;AACxBN,IAAAA,QAAQ;AACR,GAFD;;AAIA,QAAMO,WAAW,GAAG,MAAM;AACzBR,IAAAA,SAAS,CAAC;AACTE,MAAAA,OADS;AAETC,MAAAA,IAFS;AAGTE,MAAAA,IAHS;AAITI,MAAAA,GAAG,EAAE,CAJI;AAKTC,MAAAA,QAAQ,EAAE;AALD,KAAD,CAAT;AAOA,GARD;;AAUA,QAAMC,YAAY,GAAIC,CAAD,IAA4C;AAChER,IAAAA,OAAO,CAACS,MAAM,CAACD,CAAD,aAACA,CAAD,uBAACA,CAAC,CAAEE,MAAH,CAAUC,KAAX,CAAN,IAA2B,CAA5B,CAAP;AACA,GAFD;;AAIA,QAAMC,YAAY,GAAIJ,CAAD,IAA4C;AAChEN,IAAAA,OAAO,CAACO,MAAM,CAACD,CAAD,aAACA,CAAD,uBAACA,CAAC,CAAEE,MAAH,CAAUC,KAAX,CAAN,IAA2B,CAA5B,CAAP;AACA,GAFD;;AAIA,QAAME,OAAO,GAAG,MAAM;AACrB,WAAOZ,IAAI,IAAI,CAAR,IAAaF,IAAI,IAAI,CAA5B;AACA,GAFD;;AAIA,sBACC,uDACC,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qEADD,eAEO,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AACC,IAAA,GAAG,EAAEe,SADN;AAEE,IAAA,SAAS,MAFX;AAGE,IAAA,MAAM,EAAC,OAHT;AAIE,IAAA,KAAK,EAAC,0BAJR;AAKE,IAAA,IAAI,EAAC,QALP;AAME,IAAA,QAAQ,MANV;AAOE,IAAA,SAAS,MAPX;AAQE,IAAA,QAAQ,EAAEP,YARZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAYE,oBAAC,SAAD;AACC,IAAA,GAAG,EAAEQ,SADN;AAEE,IAAA,MAAM,EAAC,OAFT;AAGE,IAAA,KAAK,EAAC,uFAHR;AAIE,IAAA,IAAI,EAAC,QAJP;AAKE,IAAA,QAAQ,MALV;AAME,IAAA,SAAS,MANX;AAOE,IAAA,QAAQ,EAAEH,YAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,CAFP,eAwBO,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAET,UAAjB;AAA6B,IAAA,KAAK,EAAC,SAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CADF,eAIE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEC,WAAjB;AAA8B,IAAA,KAAK,EAAC,SAApC;AAA8C,IAAA,QAAQ,EAAES,OAAO,EAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDAJF,CAxBP,CADD;AAmCA,CAlEM","sourcesContent":["import React, { useState, useRef } from 'react';\n\nimport { WorkMonth, Products } from '../../models';\n\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\ninterface Props {\n\tproduct: Products;\n\tconfirmed: (m: WorkMonth) => void;\n\tcanceled: () => void;\n}\n\nexport const NewMonthForm = (props: Props) => {\n\tconst {confirmed, canceled, product} = props;\n\tconst [plan, setPlan] = useState(-1);\n\tconst [days, setDays] = useState(-1);\n\n\tconst onCanceled = () => {\n\t\tcanceled();\n\t}\n\n\tconst onConfirmed = () => {\n\t\tconfirmed({\n\t\t\tproduct,\n\t\t\tplan,\n\t\t\tdays,\n\t\t\tppr: 0,\n\t\t\tworkDays: []\n\t\t} as WorkMonth);\n\t}\n\n\tconst onPlanChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tsetPlan(Number(e?.target.value) || 0);\n\t}\n\n\tconst onDaysChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tsetDays(Number(e?.target.value) || 0);\n\t}\n\n\tconst isValid = () => {\n\t\treturn days >= 0 && plan >= 0;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<DialogTitle>Новый месяц</DialogTitle>\n\t        <DialogContent>\n\t          <TextField\n\t          \tref={planField}\n\t            autoFocus\n\t            margin=\"dense\"\n\t            label=\"План\"\n\t            type=\"number\"\n\t            required\n\t            fullWidth\n\t            onChange={onPlanChange}\n\t          />\n\n\t          <TextField\n\t          \tref={daysField}\n\t            margin=\"dense\"\n\t            label=\"Количество смен\"\n\t            type=\"number\"\n\t            required\n\t            fullWidth\n\t            onChange={onDaysChange}\n\t          />\n\t        </DialogContent>\n\t        <DialogActions>\n\t          <Button onClick={onCanceled} color=\"primary\">\n\t            Отмена\n\t          </Button>\n\t          <Button onClick={onConfirmed} color=\"primary\" disabled={isValid()}>\n\t            Создать\n\t          </Button>\n\t        </DialogActions>\n\t\t</>\n\t)\n}"]},"metadata":{},"sourceType":"module"}