{"ast":null,"code":"export class DBService {\n  constructor() {\n    this.url = 'http://localhost:4000/api';\n  }\n\n  async getMonth(p) {\n    const res = await fetch(`${this.url}/getMonth/${p}`);\n\n    if (!res.ok) {\n      throw new Error(`Could not fetch ${this.url}/getMonth/${p}` + `, received ${res.status}`);\n    }\n\n    return await res.json();\n  }\n\n  async updateWorkDay(p, day, amount) {\n    console.log(amount);\n  }\n\n  async updatePlan(p, plan) {\n    console.log(plan);\n  }\n\n  async updatePpr(p, ppr) {\n    const res = await fetch(`${this.url}/updatePpr/${p}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(ppr)\n    });\n  }\n\n}","map":{"version":3,"sources":["/home/lightmare/Documents/dev/web/tnp_plan/client/src/services/DBService.ts"],"names":["DBService","url","getMonth","p","res","fetch","ok","Error","status","json","updateWorkDay","day","amount","console","log","updatePlan","plan","updatePpr","ppr","method","headers","body","JSON","stringify"],"mappings":"AAEA,OAAO,MAAMA,SAAN,CAAgB;AAAA;AAAA,SACLC,GADK,GACC,2BADD;AAAA;;AAGtB,QAAaC,QAAb,CAAsBC,CAAtB,EAAuD;AACtD,UAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAE,KAAKJ,GAAI,aAAYE,CAAE,EAA3B,CAAvB;;AAEG,QAAI,CAACC,GAAG,CAACE,EAAT,EAAa;AACX,YAAM,IAAIC,KAAJ,CAAW,mBAAkB,KAAKN,GAAI,aAAYE,CAAE,EAA1C,GACb,cAAaC,GAAG,CAACI,MAAO,EADrB,CAAN;AAED;;AACD,WAAO,MAAMJ,GAAG,CAACK,IAAJ,EAAb;AAEH;;AAED,QAAaC,aAAb,CAA2BP,CAA3B,EAAwCQ,GAAxC,EAAqDC,MAArD,EAAqE;AACpEC,IAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACA;;AAED,QAAaG,UAAb,CAAwBZ,CAAxB,EAAqCa,IAArC,EAAmD;AAClDH,IAAAA,OAAO,CAACC,GAAR,CAAYE,IAAZ;AACA;;AAED,QAAaC,SAAb,CAAuBd,CAAvB,EAAoCe,GAApC,EAAiD;AAChD,UAAMd,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAE,KAAKJ,GAAI,cAAaE,CAAE,EAA5B,EAA+B;AACrDgB,MAAAA,MAAM,EAAE,MAD6C;AAElDC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFyC;AAKlDC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,GAAf;AAL4C,KAA/B,CAAvB;AAOA;;AA9BqB","sourcesContent":["import { WorkMonth, Products } from '../models';\n\nexport class DBService {\n\tprivate readonly url = 'http://localhost:4000/api';\n\n\tpublic async getMonth(p: Products): Promise<WorkMonth> {\n\t\tconst res = await fetch(`${this.url}/getMonth/${p}`);\n\n\t    if (!res.ok) {\n\t      throw new Error(`Could not fetch ${this.url}/getMonth/${p}` +\n\t        `, received ${res.status}`)\n\t    }\n\t    return await res.json();\n\n\t}\n\n\tpublic async updateWorkDay(p: Products, day: number, amount: number) {\n\t\tconsole.log(amount)\n\t}\n\n\tpublic async updatePlan(p: Products, plan: number) {\n\t\tconsole.log(plan)\n\t}\n\n\tpublic async updatePpr(p: Products, ppr: number) {\n\t\tconst res = await fetch(`${this.url}/updatePpr/${p}`, {\n\t\t\tmethod: 'POST',\n\t\t    headers: {\n\t\t      'Content-Type': 'application/json'\n\t\t    },\n\t\t    body: JSON.stringify(ppr)\n\t\t})\n\t}\n}"]},"metadata":{},"sourceType":"module"}